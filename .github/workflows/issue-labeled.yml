name: Issue Labeled
run-name: \#${{ github.event.issue.number }} ${{ github.event.issue.title }}

on:
  issues:
    types: [labeled]

jobs:
  close-as-completed:
    if: github.actor != 'PCL-Community-Bot' && github.event.label.name == 'ğŸ‘Œ å®Œæˆ'
    runs-on: ubuntu-latest
    steps:
      - name: Close as completed
        uses: actions-cool/issues-helper@v3
        with:
          actions: 'close-issue'
          token: '${{ secrets.BOT }}'
          close-reason: 'completed'

      - name: Add labels
        uses: actions-cool/issues-helper@v3
        with:
          actions: 'add-labels'
          token: '${{ secrets.BOT }}'
          labels: 'â­• ç­‰å¾…å¤„ç†,ğŸš§ æ­£åœ¨å¤„ç†,ğŸ•‘ ç­‰å¾…åˆå¹¶,ğŸ•‘ ç­‰å¾…å‰ç½®,âŒ å¿½ç•¥,âŒ æ‹’ç» / æ”¾å¼ƒ,âŒ æš‚æ— è®¡åˆ’'

  close-as-not-planned:
    if: github.actor != 'PCL-Community-Bot' && (github.event.label.name == 'âŒ å¿½ç•¥' || github.event.label.name == 'âŒ æ‹’ç» / æ”¾å¼ƒ' || github.event.label.name == 'âŒ æš‚æ— è®¡åˆ’' || github.event.label.name == 'âŒ ç¬¬ä¸‰æ–¹' || github.event.label.name == 'ğŸ˜‚ ç§»äº¤ä¸Šæ¸¸')
    runs-on: ubuntu-latest
    steps:
      - name: Close as not planned
        uses: actions-cool/issues-helper@v3
        with:
          actions: 'close-issue'
          token: '${{ secrets.BOT }}'
          close-reason: 'not_planned'
      
      - name: Add labels
        uses: actions-cool/issues-helper@v3
        with:
          actions: 'add-labels'
          token: '${{ secrets.BOT }}'
          labels: 'â­• ç­‰å¾…å¤„ç†,ğŸš§ æ­£åœ¨å¤„ç†,ğŸ•‘ ç­‰å¾…åˆå¹¶,ğŸ•‘ ç­‰å¾…å‰ç½®'

  report-to-upstream:
    if: github.event.label.name == 'ğŸ˜‚ ç§»äº¤ä¸Šæ¸¸'
    runs-on: ubuntu-latest
    steps:
      - name: Report to upstream
        uses: actions-cool/issues-helper@v3
        with:
          actions: 'create-comment'
          token: '${{ secrets.BOT }}'
          body: |
            @${{ github.event.issue.user.login }} è¯¥æè®®ä¸åº”ç”± CE è§£å†³ï¼Œè¯·å‰å¾€ä¸Šæ¸¸ä»“åº“æäº¤ã€‚
            æ„Ÿè°¢æ‚¨çš„åé¦ˆã€‚